:root{
  /* EASY COLOR CONTROL */
  --bg: #f4f4f4;
  --bg2:#e7e7e7;
  --panel: rgba(255,255,255,.90);
  --line: rgba(0,0,0,.16);

  --text: #050505;
  --muted: rgba(0,0,0,.66);

  --ring: rgba(0,0,0,.78);
  --accent: rgba(0,0,0,.08);

  --dot: rgba(0,0,0,.18);
  --shadow: 0 24px 120px rgba(0,0,0,.16);
  --r: 20px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; }
body{
  background:
    radial-gradient(1000px 800px at 18% 20%, rgba(0,0,0,.06), transparent 62%),
    radial-gradient(900px 900px at 82% 72%, rgba(0,0,0,.07), transparent 64%),
    linear-gradient(180deg, var(--bg), var(--bg2));
  color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  overflow:hidden;
}

html, body { width: 100%; overflow-x: hidden; }

/* iOS safe area padding */
body{
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}


/* FX */
#fx{ position:fixed; inset:0; z-index:0; width:100%; height:100%; pointer-events:none; }
.bgGrid{
  position:fixed; inset:-20% -20%; z-index:1; pointer-events:none;
  background:
    linear-gradient(rgba(0,0,0,.06) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,.06) 1px, transparent 1px);
  background-size: 72px 72px;
  transform: rotate(-6deg);
  opacity:.22;
  mask: radial-gradient(closest-side, #000 45%, transparent 72%);
}
.bgNoise{
  position:fixed; inset:0; z-index:2; pointer-events:none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  opacity:.07;
  mix-blend-mode: multiply;
}

/* HUD */
.hud{
  position:fixed; top:0; left:0; right:0;
  z-index: 20;
  padding: 14px 18px;
  display:flex; align-items:center; justify-content:space-between;
  background: rgba(255,255,255,.62);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid var(--line);
}
.hud__left{ display:flex; align-items:center; gap: 12px; }
.hud__title{ display:flex; flex-direction:column; line-height:1.05; min-width:0; }
.hud__name{ font-weight: 1100; font-size: 16px; letter-spacing: .2px; }
.hud__role{ font-weight: 900; font-size: 12px; opacity: .75; }

/* layout */
.shell{
  position:relative;
  z-index: 5;
  height: 100vh;
  padding-top: 64px;
}

/* Pages: bigger to use empty space */
.pages{
  position:absolute;
  inset: 64px 0 100px 0;
  display:grid;
  place-items:center;
  padding: 22px;
  z-index: 8;
}
.page{
  position:absolute;
  width: min(1400px, calc(100vw - 70px));
  opacity: 0;
  transform: translateY(18px) scale(.985);
  filter: blur(10px);
  pointer-events:none;
  transition: opacity .2s ease;
}
.page.active{
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
  pointer-events:auto;
}

/* Portal animations: collapse into inner portal */
.page.portalOut{
  opacity: 1;
  filter: blur(0);
  pointer-events:none;
  animation: portalOut .55s cubic-bezier(.16,.9,.2,1) forwards;
  transform-origin: var(--portal-x, 50%) var(--portal-y, 50%);
}
.page.portalIn{
  opacity: 1;
  filter: blur(0);
  pointer-events:auto;
  animation: portalIn .60s cubic-bezier(.16,.9,.2,1) forwards;
  transform-origin: var(--portal-x, 50%) var(--portal-y, 50%);
}
@keyframes portalOut{
  0%   { transform: translateY(0) scale(1); opacity: 1; filter: blur(0); }
  40%  { transform: translateY(0) scale(.90); opacity: .92; }
  100% { transform: translateY(0) scale(.06); opacity: 0; filter: blur(8px); }
}
@keyframes portalIn{
  0%   { transform: translateY(0) scale(.06); opacity: 0; filter: blur(10px); }
  60%  { transform: translateY(0) scale(.92); opacity: .92; filter: blur(2px); }
  100% { transform: translateY(0) scale(1); opacity: 1; filter: blur(0); }
}

.pageCard{
  border-radius: var(--r);
  border: 1px solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow);
  padding: clamp(16px, 2vw, 26px);
  min-width: 0;
}

/* Scroll area (Resume) */
.scrollCard{
  max-height: min(74vh, 720px);
  overflow:auto;
}
.scrollCard::-webkit-scrollbar{ width:10px; }
.scrollCard::-webkit-scrollbar-thumb{ background: rgba(0,0,0,.18); border-radius:10px; }

/* Typography */
.h1{ margin:0 0 10px; font-size: clamp(34px, 3.2vw, 54px); letter-spacing:-.6px; }
.h2{ margin:0 0 10px; font-size: clamp(22px, 2.3vw, 34px); letter-spacing:-.3px; }
.h3{ margin:16px 0 8px; font-size: 16px; }
.role{ font-weight: 950; margin: 6px 0 10px; }
.lead{ margin:0 0 14px; color: var(--muted); line-height:1.55; font-size: 15px; }

.strong{ font-weight: 1000; }
.muted{ color: var(--muted); }
.small{ font-size: 12px; }

.hr{ border:0; border-top:1px solid var(--line); margin: 12px 0; }

.certBlock{
  margin-top: 8px;
}

.certGroup{
  margin: 14px 0 6px;
  font-size: 14px;
  font-weight: 1000;
  letter-spacing: .3px;
}

.certList{
  margin: 0 0 10px;
  padding-left: 18px;
}

.certList li{
  margin: 6px 0;
  font-size: 13px;
  line-height: 1.5;
}

.certId{
  display: block;
  font-size: 12px;
  color: var(--muted);
  margin-top: 2px;
}


/* Home grid - larger */
.homeGrid{
  display:grid;
  grid-template-columns: 1.25fr .75fr;
  gap: 18px;
  align-items: start;
}
.portraitCard{
  border: 1px solid var(--line);
  border-radius: 18px;
  overflow:hidden;
  background: rgba(255,255,255,.70);
}
.portrait{
  width:100%;
  height: clamp(340px, 40vh, 520px);
  object-fit: cover;
  object-position: 50% 12%;
  display:block;
}
.portraitMeta{ padding: 12px; }

/* Chips */
.chips{ display:flex; flex-wrap:wrap; gap: 10px; margin: 12px 0 16px; }
.chips span{
  border: 1px solid var(--line);
  background: rgba(255,255,255,.72);
  padding: 8px 12px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 800;
}

/* Contact icons */
.contactRow{ display:flex; gap: 12px; flex-wrap:wrap; margin-top: 10px; }
.iconBtn{
  display:flex; align-items:center; gap:10px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.18);
  background: rgba(255,255,255,.78);
  text-decoration:none;
  font-weight: 900;
  color: var(--text);
  transition: transform .16s ease, background .18s ease;
}
.iconBtn:hover{ transform: translateY(-1px); background: rgba(0,0,0,.06); }
.iconBtn img{
  width: 18px; height: 18px; object-fit:contain;
  filter: grayscale(1) contrast(1.2);
}

/* Grids/cards */
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 12px;
}
.card{
  border: 1px solid var(--line);
  background: rgba(255,255,255,.74);
  border-radius: 16px;
  padding: 14px;
}
.cardTop{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:6px; }
.pill{
  border: 1px solid rgba(0,0,0,.18);
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 950;
  background: rgba(0,0,0,.05);
}

/* Reels */
.videoGrid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 14px;
  margin-top: 10px;
}
.videoCard{
  border: 1px solid var(--line);
  background: rgba(255,255,255,.74);
  border-radius: 16px;
  padding: 12px;
}
.frame{
  position: relative;
  width: 100%;
  padding-top: 56.25%;
  border-radius: 14px;
  overflow:hidden;
  border: 1px solid var(--line);
  background: rgba(0,0,0,.06);
}
.frame iframe{ position:absolute; inset:0; width:100%; height:100%; }

.articlesHead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
  flex-wrap:wrap;
}
.btn{
  border: 1px solid rgba(0,0,0,.22);
  background: rgba(0,0,0,.08);
  color: var(--text);
  padding: 10px 14px;
  border-radius: 999px;
  text-decoration:none;
  font-weight: 950;
  cursor:pointer;
  transition: transform .16s ease, background .18s ease;
}
.btn:hover{ transform: translateY(-1px); background: rgba(0,0,0,.12); }
.btn.ghost{ background: rgba(255,255,255,.78); }

/* Resume */
.resumeBlock{
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap: 14px;
  align-items:start;
}
.bullets{ margin: 10px 0 0; padding-left: 18px; }
.bullets li{ margin: 6px 0; }
.exp{ margin-top: 10px; }
.expHead{ display:flex; justify-content:space-between; gap: 10px; flex-wrap:wrap; }

/* Dock */
.dock{
  position:fixed;
  left: 50%;
  bottom: 14px;
  transform: translateX(-50%);
  z-index: 30;
  display:flex;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 9px;
  border: 1px solid rgba(0,0,0,.14);
  background: rgba(255,255,255,.78);
  backdrop-filter: blur(14px);
  box-shadow: 0 18px 70px rgba(0,0,0,.14);
}
.dockItem{
  border: 0;
  background: transparent;
  cursor:pointer;
  padding: 8px 10px;
  border-radius: 14px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: 4px;
  min-width: 66px;
  transition: transform .16s ease, background .18s ease, opacity .18s ease;
  opacity: .82;
}
.dockItem:hover{ transform: translateY(-2px); background: var(--accent); opacity:1; }
.dockItem.active{
  opacity: 1;
  background: rgba(0,0,0,.08);
  outline: 1px solid rgba(0,0,0,.20);
}
.dockIcon{
  width: 28px; height: 28px;
  display:grid; place-items:center;
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,.16);
  background: rgba(255,255,255,.74);
  font-weight: 950;
}
.dockLabel{ font-size: 11px; font-weight: 950; }

/* Circle Zone */
.circleZone{
  position:absolute;
  inset: 64px 0 100px 0;
  display:grid;
  place-items:center;
  z-index: 12; /* above pages during portal */
  pointer-events: none;
  opacity: 1;
  transition: opacity .18s ease;
}
.circleZone.hidden{ opacity: 0; }
.circleWrap{
  width: min(560px, 86vw);
  aspect-ratio: 1/1;
  border-radius: 999px;
  position: relative;
  transform: rotate(var(--circle-rot, 0deg));
  transition: transform 820ms cubic-bezier(.16,.9,.2,1);
}
.circleWrap:before{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: 999px;
  border: 3px solid var(--ring);
  background: rgba(255,255,255,.46);
  box-shadow: var(--shadow);
}

.kineticRing{
  position: absolute;
  inset: -10px;
  border-radius: 999px;
  pointer-events: none;

  /* rotate like before */
  animation: kineticSpin 5.05s linear infinite;

  /* remove gradient + mask */
  background: none;
  mask: none;
}

/* shared icon style */
.kineticRing::before,
.kineticRing::after,
.kineticRing .kIcon{
  position: absolute;
  left: 50%;
  top: 50%;
  font-size: 50px;
  line-height: 1;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.22));
  opacity: .95;

  transform: translate(-50%, -50%) rotate(240deg) translateY(-270px) rotate(-240deg);
}


/* üåÄ at 0¬∞ (top) */
.kineticRing::before{
  content: "üåÄ";
  transform: translate(-50%, -50%) rotate(0deg) translateY(-280px) rotate(0deg);
}

/* ‚ö° at 120¬∞ */
.kineticRing::after{
  content: "‚ö°";
  transform: translate(-50%, -50%) rotate(180deg) translateY(-280px) rotate(-180deg);
}
@keyframes kineticSpin{ to{ transform: rotate(360deg); } }

/* small portal circle */
.innerPortal{
  position:absolute;
  width: 168px;
  height: 168px;
  border-radius: 999px;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  border: 2px solid rgba(0,0,0,.78);
  background: rgba(255,255,255,.82);
  box-shadow: 0 14px 60px rgba(0,0,0,.14);
}

/* Circle hint text: NEVER overflow */
.circleHint{
  position:absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  text-align:center;
  width: min(240px, 62%);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: 5px;
}
.circleHint__big{
  font-weight: 1100;
  letter-spacing: 2px;
  font-size: clamp(25px, 2.2vw, 18px);
  font-style: bold;
  line-height: 1.25;
}
.circleHint__small{
  color: var(--muted);
  font-weight: 900;
  font-size: clamp(10px, 1.6vw, 12px);
  line-height: 1.15;
  max-width: 22ch;
  overflow-wrap:anywhere;
}

/* Pancake loader */
.pancakeWrap{ display:grid; place-items:center; }
#loader { position: relative; width: 34px; height: 34px; background-color: transparent; }
#hill {
  position: absolute; width: 34px; height: 34px; top: 9px; left: 9px;
  background-color: transparent; border-left: 3px solid var(--ring);
  transform: rotate(45deg);
}
#hill:after { content: ''; position: absolute; width: 34px; height: 34px; left: 0; background-color: transparent; }
#box {
  position: absolute; left: 0; bottom: -1px; width: 10px; height: 10px;
  background-color: transparent; border: 3px solid var(--ring);
  border-radius: 15%;
  transform: translate(0, -10px) rotate(-45deg);
  animation: push 2.5s cubic-bezier(.79, 0, .47, .97) infinite;
}
@keyframes push {
  0% { transform: translate(0, -10px) rotate(-45deg); }
  5% { transform: translate(0, -10px) rotate(-50deg); }
  20% { transform: translate(10px, -20px) rotate(47deg); }
  25% { transform: translate(10px, -20px) rotate(45deg); }
  30% { transform: translate(10px, -20px) rotate(40deg); }
  45% { transform: translate(20px, -30px) rotate(137deg); }
  50% { transform: translate(20px, -30px) rotate(135deg); }
  55% { transform: translate(20px, -30px) rotate(130deg); }
  70% { transform: translate(30px, -40px) rotate(217deg); }
  75% { transform: translate(30px, -40px) rotate(220deg); }
  100%{ transform: translate(0, -10px) rotate(-225deg); }
}

/* Truck (your style, adapted to monochrome) */
.loop-wrapper{
  position: relative;
  width: 760px;
  height: 56px;
  overflow: hidden;
  border-bottom: 2px solid var(--ring);
  opacity:.92;
}
.mountain {
  position: absolute; right: -900px; bottom: -10px; width: 2px; height: 2px;
  box-shadow:
    0 0 0 50px rgba(0,0,0,.18),
    60px 50px 0 70px rgba(0,0,0,.18),
    90px 90px 0 50px rgba(0,0,0,.18),
    250px 250px 0 50px rgba(0,0,0,.18),
    290px 320px 0 50px rgba(0,0,0,.18),
    320px 400px 0 50px rgba(0,0,0,.18);
  transform: rotate(130deg);
  animation: mtn 20s linear infinite;
}
.hill2 {
  position: absolute; right: -900px; bottom: -18px; width: 220px; height: 16px;
  border-radius: 50%;
  box-shadow:
    0 0 0 50px rgba(0,0,0,.16),
    -20px 0 0 20px rgba(0,0,0,.16),
    -90px 0 0 50px rgba(0,0,0,.16),
    250px 0 0 50px rgba(0,0,0,.16),
    290px 0 0 50px rgba(0,0,0,.16),
    620px 0 0 50px rgba(0,0,0,.16);
  animation: hill 4s 2s linear infinite;
}
.tree, .tree:nth-child(2), .tree:nth-child(3) {
  position: absolute; height: 44px; width: 18px; bottom: 0;
  background: radial-gradient(circle at 50% 20%, rgba(0,0,0,.65), rgba(0,0,0,0) 60%);
  opacity:.65;
}
.rock { height: 6px; width: 10px; bottom: -2px; border-radius: 20px; position: absolute; background: rgba(0,0,0,.25); }
.truck, .wheels { width: 85px; margin-right: -60px; bottom: 0px; right: 50%; position: absolute; }
.truck {
  height: 34px;
  background: linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,.12));
  border: 2px solid rgba(0,0,0,.65);
  border-radius: 8px;
}
.truck:before {
  content: " ";
  position: absolute;
  width: 25px;
  box-shadow:
    -30px 18px 0 1.5px rgba(0,0,0,.20),
    -35px 10px 0 1.5px rgba(0,0,0,.20);
}
.wheels {
  height: 14px; bottom: -2px;
  background:
    radial-gradient(circle at 18px 9px, rgba(0,0,0,.78) 0 6px, transparent 7px),
    radial-gradient(circle at 63px 9px, rgba(0,0,0,.78) 0 6px, transparent 7px);
}
.tree  { animation: tree 3s 0.000s linear infinite; }
.tree:nth-child(2)  { animation: tree2 2s 0.150s linear infinite; }
.tree:nth-child(3)  { animation: tree3 8s 0.050s linear infinite; }
.rock  { animation: rock 4s   -0.530s linear infinite; }
.truck  { animation: truckMove 4s   0.080s ease infinite; }
.wheels  { animation: truckMove 4s   0.001s ease infinite; }
.truck:before { animation: wind 1.5s   0.000s ease infinite; }
@keyframes tree { 0%{ transform: translate(680px);} 100%{ transform: translate(-50px);} }
@keyframes tree2 { 0%{ transform: translate(400px);} 100%{ transform: translate(-50px);} }
@keyframes tree3 { 0%{ transform: translate(980px);} 100%{ transform: translate(-50px);} }
@keyframes rock { 0%{ right:-200px;} 100%{ right:980px;} }
@keyframes truckMove { 6%{ transform: translateY(0px);} 7%{ transform: translateY(-6px);} 9%{ transform: translateY(0px);} 10%{ transform: translateY(-1px);} 11%{ transform: translateY(0px);} }
@keyframes wind { 50%{ transform: translateY(3px);} }
@keyframes mtn { 100%{ transform: translateX(-2000px) rotate(130deg);} }
@keyframes hill { 100%{ transform: translateX(-2000px);} }

/* Prevent text overflow everywhere */
.h1, .hud__name, .hud__role, .lead, .muted, .strong{
  overflow-wrap:anywhere;
  word-break: break-word;
}

.hud__name{
  font-size: 22px;        /* was likely ~16‚Äì18 */
  font-weight: 1000;
  letter-spacing: 0.4px;
  line-height: 1.1;
}

.hud__role{
  font-size: 13px;
  font-weight: 900;
  color: var(--muted);
  margin-top: 2px;
}


/* Responsive */
@media (max-width: 980px){
  .homeGrid{ grid-template-columns: 1fr; }
  .resumeBlock{ grid-template-columns: 1fr; }
  .loop-wrapper{ width: 240px; }
}
@media (max-width: 900px){
  .videoGrid{ grid-template-columns: 1fr; }
}
@media (max-width: 720px){
  .dock{ gap: 6px; padding: 8px 10px; }
  .dockItem{ min-width: 58px; }
  .loop-wrapper{ display:none; }
}


@media (max-width: 600px){
  /* Keep your portal feel but allow vertical scroll inside app areas */
  .pages{
    inset: 64px 0 92px 0;     /* leave room for dock */
    padding: 12px;
  }

  .page{
    width: calc(100vw - 24px);
  }

  .pageCard{
    padding: 14px;
  }

  /* Home becomes stacked + scrollable */
  .homeGrid{
    grid-template-columns: 1fr;
    gap: 12px;
  }

  /* Make ‚Äúhome‚Äù card content scroll if it overflows */
  .page[data-key="home"] .pageCard{
    max-height: calc(100vh - 64px - 92px - 24px);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Same idea for all pages (safe default) */
  .pageCard{
    max-height: calc(100vh - 64px - 92px - 24px);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Dock: keep visible, smaller, no overflow */
  .dock{
    width: calc(100vw - 16px);
    left: 8px;
    transform: none;
    justify-content: space-between;
    gap: 4px;
    padding: 8px 8px;
    border-radius: 14px;
  }
  .dockItem{
    min-width: 0;
    padding: 6px 6px;
  }
  .dockIcon{
    width: 26px;
    height: 26px;
  }
  .dockLabel{
    font-size: 10px;
  }

  /* Portrait image: reduce height so it doesn't dominate */
  .portrait{
    height: min(42vh, 320px);
    object-position: 50% 18%;
  }
}


@media (max-width: 600px){
  .hud{
    padding: 10px 12px;
  }
  .hud__name{ font-size: 16px; }
  .hud__role{ font-size: 11px; }
}

/* =========================================================
   PHONE PORTRAIT (<= 600px)
   ========================================================= */
@media (max-width: 600px){

  /* prevent sideways scroll */
  html, body{
    width:100%;
    overflow-x:hidden;
  }

  /* pages container */
  .pages{
    inset: 64px 0 92px 0;   /* header + dock space */
    padding: 12px;
  }

  /* page width fits phone */
  .page{
    width: calc(100vw - 24px);
  }

  /* ALL cards become internally scrollable */
  .pageCard{
    max-height: calc(100vh - 64px - 92px - 24px);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Home layout stacks */
  .homeGrid{
    grid-template-columns: 1fr;
    gap: 12px;
  }

  /* Reduce portrait dominance */
  .portrait{
    height: min(42vh, 320px);
    object-position: 50% 18%;
  }

  /* Dock fits phone width */
  .dock{
    width: calc(100vw - 16px);
    left: 8px;
    transform: none;
    justify-content: space-between;
    gap: 4px;
    padding: 8px;
  }

  .dockItem{
    min-width: 0;
    padding: 6px;
  }

  .dockLabel{
    font-size: 10px;
  }

  /* HUD text slightly smaller */
  .hud__name{ font-size: 16px; }
  .hud__role{ font-size: 11px; }
}

/* =========================================================
   TABLETS / iPad (touch devices up to 1024px)
   ========================================================= */
@media (pointer: coarse) and (max-width: 1024px){

  .page{
    width: min(96vw, 1100px);
  }

  .pageCard{
    max-height: calc(100vh - 64px - 92px);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dockLabel{
    font-size: 11px;
  }
}

/* =========================================================
   KOI ANIMATION INSIDE CIRCLE (SCOPED)
   ========================================================= */

/* container clipped to the circle */
.koiInCircle{
  position: absolute;
  inset: 30px;                 /* distance from ring border */
  border-radius: 999px;
  overflow: hidden;            /* clip inside circle */
  pointer-events: none;
  z-index: 3;                  /* behind innerPortal/hint */
  opacity: .55;

  /* knobs */
  --coilSize: 10px;            /* koi thickness */
  --delayCount: 40ms;          /* body spacing */
  --koiGap: 0px;              /* distance between the two koi */
}

/* each fish fills the container */
.koiFish{
  position: absolute;
  inset: 0;
}

/* mirrored + offset second koi */
.koiFishB{
  transform: scale(-1, 1) translateX(var(--koiGap));
}

/* each body segment */
.koiFish .koiCoil{
  position: absolute;
  width: var(--coilSize);
  height: var(--coilSize);
  border-radius: 999px;

  top: 0%;
  left: 50%;
  margin-left: calc(var(--coilSize) / -2);
  margin-top: calc(var(--coilSize) / -2);

  /* monochrome palette */
  background-color: rgba(255, 0, 0, 0.85);
  box-shadow: calc(var(--coilSize) / -2) calc(var(--coilSize) / -10) 0 rgba(255,255,255,.75) inset;

  /* follow path */
  offset-path: path("M11.7692 229.5C14.552 200.052 7.51901 171.858 -42.8757 170.644C-105.869 169.128 -131.294 76.612 -101.695 51.5872C-72.0955 26.5625 -24.6607 -50.7867 70.5883 51.5872C165.837 153.961 27.7073 131.211 33.0199 183.157C38.3326 235.102 90.3211 195.669 139.274 223.727C188.226 251.785 207.959 299.56 139.274 316.243C70.5883 332.926 41.3685 398.9 81.9726 419.754C122.577 440.608 222 478.524 222 419.754C222 372.738 222 242.432 222 183.157C219.091 129.948 175.78 30.8091 25.8099 59.9288C-161.652 96.3284 -30.3529 119.837 25.8099 141.07C81.9726 162.303 171.529 204.769 126.751 260.506C81.9726 316.243 101.326 362.501 139.274 373.496C177.222 384.492 170.012 464.495 70.5883 462.979C-28.835 461.462 -42.8757 393.015 -42.8757 373.496C-42.8757 238.288 11.7692 293 11.7692 240.506C11.7692 208.05 11.7692 237.336 11.7692 229.5Z");
  offset-rotate: auto;

  animation: koiSwim 16000ms linear infinite;
}

/* white koi variant */
.koiFishB .koiCoil{
  background-color: rgba(255, 0, 0, 0.85);
  box-shadow: calc(var(--coilSize) / -2) calc(var(--coilSize) / -10) 0 rgba(255, 255, 255, 0.75) inset;
}

/* head + eyes */
.koiFish .koiCoil:nth-of-type(1){
  width: calc(var(--coilSize) * 1.35);
  height: calc(var(--coilSize) * 1.35);
}
.koiFish .koiCoil:nth-of-type(1)::before,
.koiFish .koiCoil:nth-of-type(1)::after{
  content:"";
  position:absolute;
  top: 32%;
  width: calc(var(--coilSize) * .18);
  height: calc(var(--coilSize) * .18);
  border-radius: 50%;
  background: rgba(0,0,0,.75);
}
.koiFish .koiCoil:nth-of-type(1)::before{ left: 26%; }
.koiFish .koiCoil:nth-of-type(1)::after{ right: 26%; }

/* simple fin flap */
.koiFish .koiCoil:nth-of-type(7)::before,
.koiFish .koiCoil:nth-of-type(7)::after{
  content:"";
  position:absolute;
  width: calc(var(--coilSize) * 1.0);
  height: calc(var(--coilSize) * .34);
  top: 32%;
  left: -95%;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.75);
  transform-origin: 100% 50%;
  animation: koiFin 420ms ease-in-out infinite alternate;
  opacity: .85;
}
.koiFish .koiCoil:nth-of-type(7)::after{
  top: 58%;
  transform: scaleY(-1);
  opacity: .75;
}

@keyframes koiFin{
  0%{ transform: rotate(18deg); }
  100%{ transform: rotate(-22deg); }
}

/* body thickness shaping + chasing delay */
.koiFish .koiCoil:nth-of-type(14){ transform: scale(1.2);  animation-delay: calc(var(--delayCount)*1); }
.koiFish .koiCoil:nth-of-type(13){ transform: scale(1.35); animation-delay: calc(var(--delayCount)*2); }
.koiFish .koiCoil:nth-of-type(12){ transform: scale(1.55); animation-delay: calc(var(--delayCount)*3); }
.koiFish .koiCoil:nth-of-type(11){ transform: scale(1.75); animation-delay: calc(var(--delayCount)*4); }
.koiFish .koiCoil:nth-of-type(10){ transform: scale(1.9);  animation-delay: calc(var(--delayCount)*5); }
.koiFish .koiCoil:nth-of-type(9) { transform: scale(2);    animation-delay: calc(var(--delayCount)*6); }
.koiFish .koiCoil:nth-of-type(8) { transform: scale(2);    animation-delay: calc(var(--delayCount)*7); }
.koiFish .koiCoil:nth-of-type(7) { transform: scale(2);    animation-delay: calc(var(--delayCount)*8); }
.koiFish .koiCoil:nth-of-type(6) { transform: scale(1.9);  animation-delay: calc(var(--delayCount)*9); }
.koiFish .koiCoil:nth-of-type(5) { transform: scale(1.75); animation-delay: calc(var(--delayCount)*10); }
.koiFish .koiCoil:nth-of-type(4) { transform: scale(1.55); animation-delay: calc(var(--delayCount)*11); }
.koiFish .koiCoil:nth-of-type(3) { transform: scale(1.35); animation-delay: calc(var(--delayCount)*12); }
.koiFish .koiCoil:nth-of-type(2) { transform: scale(1.2);  animation-delay: calc(var(--delayCount)*13); }
.koiFish .koiCoil:nth-of-type(1) { animation-delay: calc(var(--delayCount)*14); }

/* motion */
@keyframes koiSwim{
  0%{ offset-distance: 0%; }
  100%{ offset-distance: 100%; }
}
